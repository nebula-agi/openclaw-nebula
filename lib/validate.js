function u(e){return!e||typeof e!="string"?{valid:!1,reason:"API key is empty or not a string"}:e.length<10?{valid:!1,reason:"API key is too short"}:/\s/.test(e)?{valid:!1,reason:"API key contains whitespace"}:{valid:!0}}function f(e){return!e||typeof e!="string"?{valid:!1,reason:"name is empty"}:e.length>100?{valid:!1,reason:"name exceeds 100 characters"}:/^[a-zA-Z0-9_-]+$/.test(e)?/^[-_]|[-_]$/.test(e)?{valid:!1,reason:"name must not start or end with - or _"}:{valid:!0}:{valid:!1,reason:"name contains invalid characters (only alphanumeric, underscore, hyphen allowed)"}}var s=[/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,/\uFEFF/g,/[\uFFF0-\uFFFF]/g];function c(e,t=1e5){if(!e||typeof e!="string")return"";let n=e;for(let r of s)n=n.replace(r,"");return n.length>t&&(n=n.slice(0,t)),n}function g(e,t=1,n=1e5){return e.length<t?{valid:!1,reason:`content below minimum length (${t})`}:e.length>n?{valid:!1,reason:`content exceeds maximum length (${n})`}:{valid:!0}}var o=50,a=128,l=1024;function d(e){let t={},n=0;for(let[r,i]of Object.entries(e)){if(n>=o)break;r.length>a||/^[\w.-]+$/.test(r)&&(typeof i=="string"?(t[r]=i.slice(0,l),n++):(typeof i=="number"&&Number.isFinite(i)||typeof i=="boolean")&&(t[r]=i,n++))}return t}function b(e,t){let n=[];return(!Number.isInteger(e)||e<1||e>20)&&n.push("maxRecallResults must be an integer between 1 and 20"),(!Number.isInteger(t)||t<1||t>500)&&n.push("profileFrequency must be an integer between 1 and 500"),n}export{c as sanitizeContent,d as sanitizeMetadata,u as validateApiKeyFormat,f as validateCollectionName,g as validateContentLength,b as validateRecallConfig};
